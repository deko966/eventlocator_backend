<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <div class="header">
      <h1 style= "margin-left: 10px;" ><a href= "/">Event Locator Admin</a></h1>
    </div>
    <div id="content"></div>
      <br/>
      <form action="/login" method="post">

    <div class="login-box">
      <h1>Login</h1>
      <div class="textbox">
        <i class="user"></i>
        <input type="text" id="username" placeholder="LoginID" required>
      </div>

      <div class="textbox">
        <i class="lock"></i>
        <input  type="password" id = "password" placeholder="Password" required>
      </div>

      <button class="btn" id="myBtn" type="button" onclick="login()">Login</button>
  
    </form>
    </div>
    <script>
   var input = document.getElementById("password");


input.addEventListener("keyup", function(event) {
 
  if (event.keyCode === 13) {
    event.preventDefault();
    document.getElementById("myBtn").click();
  }
});
      function login() {
        fetch('/admin/login',
         {
          method: 'POST',
          body: new URLSearchParams({
            username: document.getElementById('username').value,
            password: document.getElementById('password').value,
          })
        })
        .then(req => req.text())
        .then(res => {
          window.location = '/pending/all';
        })
        
        };
    </script>
   
  </body>
</html>
